---
# Keys are internal names of events that are not stored in the database.
# They affect the code, so they could even be put into a Python module.
# It just seems logical to store them in a YAML (or similar) format so as not to clutter code.
bot:  # events triggered by bot
  registered:  # name of abstract event
    student:  # resulting actions for student
      log_event: registered
      status: awaiting_offer
    teacher:
      log_event: registered
      status: awaiting_offer
    teacher_under_18:
      log_event: registered
      status: active
    # action_for_coordinator when we add coordinator-related functionality to bot
human:  # events triggered from ToolJet or Django admin site
  offered_group:
    student:
      log_event: group_offered
      status: group_offered
    teacher:
      log_event: group_offered
      status: group_offered
    group:
      log_event: formed
      status: pending
  confirmed_group:
    student:
      log_event: group_confirmed
      status: awaiting_start
    teacher:
      log_event: group_confirmed
      status: awaiting_start
    group:
      log_event: confirmed
      status: awaiting_start
  confirmed_start_of_studies:
    student:
      log_event: study_start
      status: studying
    teacher:
      log_event: study_start
      status: teaching_not_accepting_more  # TODO 2 statuses possible here
    group:
      log_event: started
      status: working
  initiated_transfer:
    student:
      log_event: requested_transfer
      status: needs_transfer
    teacher:
      log_event: requested_transfer
      status: needs_transfer
    coordinator:
      log_event: requested_transfer
      status: needs_transfer
  missed_class_silently:
    student:
      log_event: missed_class_silently
timed:  # events triggered by duration of something
  onboarding_stale:
    coordinator: # this event is for coordinator only. Coordinator didn't take a group after onboarding
      timeout: 1w
      status: onboarding_stale
numbered:  # events triggered by number of times something happened
    student:
      - event: missed_class_silently  # event that has to be counted
        repeats: 3
        status: not_attending
...
